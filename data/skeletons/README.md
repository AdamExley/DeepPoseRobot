# Skeletons

These files correspond to different 'skeletons' that models can use. These specify specific points on the robot that the algorithm will attempt to detect and then use for estimation.

## Files
Each skeleton consists of a ```.csv``` and a ```.json``` file.

### CSV's
CSV's are used directly DeepPoseKit, so some functionality is unused, mainly the *swap* column, which can be disregarded.

Skeleton CSV's are of the form:

| name       | parent     | swap  |
| ---------- | ---------- | ----- |
| key_1_name |            |       |
| key_2_name | key_1_name |       |
| key_3_name | key_2_name |       |

Each keypoint should have a distinct name.

### JSON's
JSON's are used to place keypoints on the robot model during rendering and to determine which keypoints to use to predict each joint angle.

*Specific JSON templates for skeletons can be generated by first making the corresponding ```.csv``` file. A JSON will then be generated that contains default values that you may edit*

Keypoint poses are in a format similar to [x,y,z,r,p,y], but this may vary depending on mesh orientation.

**Angle prediction is not yet implemented and this will be updated with more information once it is implemented**

This is what a template may look like:
```json
{
    "markers":{
        "height": 0.05,
        "radius": 0.05
    },
    "keypoints":{
        "keypoint":{
            "parent_joint": "A Joint Name",
            "pose":[1,0,0,1.5707963267948966,0,0]
        },
        "another_keypoint":{
            "parent_joint": "Another Joint Name",
            "pose":[1,0,0,1.5707963267948966,0,0]
        }
    },
    "joint_angles":{
        "S":{
            "type":  1,
            "max": 1.0,
            "min":-1.0,
            "predictors":{
                "A":{
                    "from": "keypoint",
                    "to": "another_keypoint",
                    "length": 1.0
                }
            }
        },
        "L":{},
        "U":{},
        "R":{},
        "B":{},
        "T":{}
    }
}

```
